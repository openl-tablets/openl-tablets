// IDEA-style debug view for trace parameters using Ant Design Tree

.trace-params-section {
    margin-bottom: 12px;
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.6;

    .trace-params-title {
        font-weight: 600;
        color: #000;
        margin-right: 8px;
    }

    .trace-params-empty {
        font-style: italic;
    }

    .trace-params-list {
        display: block;
    }
}

.trace-param-item {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 2px 0;
    padding-left: 24px; // Align with tree nodes

    &.inline {
        display: inline-flex;
        margin-right: 16px;
    }
}

// Ant Design Tree customization for trace parameters
.trace-param-tree {
    .ant-tree {
        font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        font-size: 12px;
        background: transparent;

        // Tree node container
        .ant-tree-treenode {
            padding: 0;
            align-items: center;

            &:hover {
                background-color: transparent;
            }
        }

        // Indent units
        .ant-tree-indent-unit {
            width: 16px;
        }

        // Hide the default line pseudo-elements (they don't work well with custom fonts)
        .ant-tree-indent-unit::before,
        .ant-tree-switcher-leaf-line::before,
        .ant-tree-switcher-leaf-line::after {
            display: none !important;
        }

        // Switcher (expand/collapse +/- icons)
        .ant-tree-switcher {
            width: 16px;
            height: 22px;
            line-height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6e6e6e;
            flex-shrink: 0;

            &:hover {
                color: #1890ff;
            }

            // Style the +/- icons
            .ant-tree-switcher-line-icon {
                font-size: 10px;
            }
        }

        // Leaf nodes - keep same width for alignment
        .ant-tree-switcher-leaf-line {
            width: 16px;
        }

        // Content wrapper
        .ant-tree-node-content-wrapper {
            padding: 0 4px;
            min-height: 22px;
            line-height: 22px;
            display: flex;
            align-items: center;

            &:hover {
                background-color: #f5f5f5;
            }
        }

        // Remove default selection styling
        .ant-tree-node-content-wrapper.ant-tree-node-selected {
            background-color: transparent;
        }
    }
}

// Tree title styling (used in both tree nodes and simple values)
.trace-tree-title {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.trace-value-name {
    color: #871094; // Purple for variable names (IDEA style)
    font-weight: 500;
}

.trace-value-type {
    color: #6e6e6e;
    font-style: italic;
    margin-left: 4px;

    &::before {
        content: '(';
    }

    &::after {
        content: ')';
    }
}

.trace-value-equals {
    color: #000;
    margin: 0 4px;
}

// Value type colors (IDEA style)
.trace-value-string {
    color: #067d17; // Green for strings
}

.trace-value-number {
    color: #1750eb; // Blue for numbers
}

.trace-value-boolean {
    color: #0033b3; // Dark blue for booleans
    font-weight: 600;
}

.trace-value-null {
    color: #6e6e6e;
    font-style: italic;
}

.trace-value-default {
    color: #000;
}

.trace-value-summary {
    color: #6e6e6e;
    font-style: italic;
}

.trace-value-lazy {
    color: #1890ff;
    cursor: pointer;
    text-decoration: underline;

    &:hover {
        color: #40a9ff;
    }
}

.trace-value-error {
    color: #cf1322;
}

.trace-value-empty {
    color: #6e6e6e;
    font-style: italic;
}

// Override card styles for trace details
.trace-details {
    .trace-params-section {
        background: #fafafa;
        border: 1px solid #e8e8e8;
        border-radius: 4px;
        padding: 8px 12px;
        margin-bottom: 12px;
    }
}
