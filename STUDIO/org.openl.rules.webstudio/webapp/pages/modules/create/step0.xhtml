<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    template="/pages/layout/wizardStep.xhtml">

    <ui:define name="header">Select table type</ui:define>

    <ui:define name="data">
        <h:form prependId="false">
            <h:panelGroup style="text-align:left;">
                <h:messages showDetail="true" globalOnly="true" tooltip="true" errorClass="error" />
            </h:panelGroup>
            <div align="left">
                <h:selectOneRadio id="tableList" value="#{tableCreatorWizardManager.tableType}"
                    layout="pageDirection" onchange="setPageAlias(this.value);">
                    <f:selectItem itemValue="DATATYPE" itemLabel="Datatype Table" />
                    <f:selectItem itemValue="DATATYPE_ALIAS" itemLabel="Datatype Alias Table" />
                    <f:selectItem itemValue="DATA" itemLabel="Data Table" />
                    <f:selectItem itemValue="TEST" itemLabel="Test Table" />
                    <f:selectItem itemValue="PROPERTY" itemLabel="Properties Table" />
                    
                    <f:selectItem itemValue="SIMPLERULES" itemLabel="Simple Rules Table" />
                </h:selectOneRadio>
            </div>

            <hr />
            <br />

            <script>
                var pageAlias = "datatype";

                function setPageAlias(tableType) {
                    switch(tableType) {
                        case "DATATYPE":
                            pageAlias = "datatype";
                            break;
                        case "DATATYPE_ALIAS":
                            pageAlias = "datatypeAlias";
                            break;
                        case "DATA":
                            pageAlias = "data";
                            break;
                        case "TEST":
                            pageAlias = "test";
                            break;
                        case "PROPERTY":
                            pageAlias = "property";
                            break;
                        case "SIMPLERULES":
                            pageAlias = "simpleRules";
                            break;
                    }
                }

                setPageAlias($j('input[name=tableList]:checked').val());
            </script>

            <a4j:commandButton value="Next" action="#{tableCreatorWizardManager.startWizard}"
                oncomplete="go(pageAlias + '/step1.xhtml')" />
        </h:form>
    </ui:define>
</ui:composition>
