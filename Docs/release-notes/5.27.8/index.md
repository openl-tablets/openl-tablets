# OpenL Tablets 5.27.8 Release Notes

## Overview

OpenL Tablets 5.27.8 is a security-focused maintenance release that delivers significant improvements to the platform's runtime safety and long-term stability. The primary theme of this release is the systematic elimination of illegal reflection operations across the entire stack, replacing them with modern, standards-compliant alternatives that improve both security and forward compatibility with future Java versions.

In addition to the reflection overhaul, this release addresses several important bug fixes in OpenL Studio and Rule Services, resolving issues that affected REST API reliability, memory consumption, and data handling. Teams relying on OAuth2 authentication, large input objects, or JSON date processing will find targeted fixes that improve day-to-day stability.

All major third-party dependencies have been updated to their latest stable versions, closing known security vulnerabilities and ensuring compatibility with current enterprise infrastructure. Several obsolete libraries have been removed entirely, reducing the platform's attack surface and simplifying its dependency footprint.

## What's New

### Enhancements

#### Elimination of Illegal Reflection Operations

OpenL Tablets has historically relied on Java reflection in certain areas to support dynamic rule compilation and runtime flexibility. As Java's module system has matured, these reflection-based approaches have become increasingly problematic, generating runtime warnings, risking compatibility issues with newer Java versions, and potentially exposing internal APIs in ways that modern security practices discourage.

Version 5.27.8 systematically removes all uses of `setAccessible(true)` and other illegal reflection operations across OpenL Studio, Rule Services, and the core engine. The `copy()` function, which previously depended on deep reflection to clone objects, has been completely reimplemented using safe, standards-compliant mechanisms. The Kafka configuration in Rule Services has been refactored to avoid reflection-based property injection, and the dynamic OpenAPI schema generator no longer relies on reflection hacks to construct API documentation.

These changes mean that OpenL Tablets now runs cleanly on modern Java runtimes without generating illegal access warnings, providing a more secure and future-proof foundation for enterprise deployments. Organizations planning Java version upgrades will find this release significantly reduces migration friction.

#### Rewritten Classloader for Dynamic Bytecode Loading

The internal classloader responsible for loading dynamically generated bytecode has been completely rewritten. The previous implementation relied on reflection-based mechanisms that were fragile and incompatible with Java's evolving security model.

The new classloader uses modern Java APIs to support dynamic bytecode loading, resulting in more predictable behavior during rule compilation and execution. This improvement is particularly valuable for deployments that compile and reload rules frequently, as the new implementation provides better resource management and cleaner lifecycle handling.

#### Security Hardening Through Dependency Cleanup

Vulnerable versions of jQuery have been removed from the OpenL Studio web interface, eliminating known cross-site scripting (XSS) vectors that existed in the bundled client-side libraries. Additionally, the cloning library previously used in OpenL Studio has been removed in favor of built-in alternatives, reducing the number of third-party dependencies that need to be monitored for security advisories.

These changes directly support organizations that must maintain compliance with security scanning requirements. By removing known vulnerable components, OpenL Tablets 5.27.8 achieves a cleaner security audit profile out of the box.

### Additional Improvements

- Removed the cloning library dependency from OpenL Studio, simplifying the internal object copying mechanism and reducing the third-party dependency footprint
- Eliminated reflection-based workarounds in the dynamic OpenAPI schema generator, ensuring cleaner API documentation generation
- Refactored Kafka configuration in Rule Services to use standard property binding instead of reflection-based injection

## Bug Fixes

### OpenL Studio

- Fixed an issue where saving data through the REST API would fail for smaller tables containing merged cells
- Resolved an error where the `/rest/projects/projectId/tables` endpoint would return an HTTP 500 error after performing multiple sequential operations
- Fixed a problem where the **Trace** and **Run** functionalities would fail when working with input objects containing more than 1,000 fields
- Corrected incorrect error messages displayed during OAuth2 Identity Provider authentication failures, ensuring users receive accurate diagnostic information

### OpenL Studio and Rule Services

- Fixed incorrect JSON date parsing when reading dates through Groovy-based classes, ensuring date values are interpreted consistently across all data access paths
- Resolved excessive memory consumption issues that could occur during sustained operation, improving long-term stability for production deployments

### Rule Services

- Fixed an issue where the OpenL Deployer could not discover the correct version from `rules-deploy.xml`, which prevented proper deployment configuration resolution
- Corrected column alignment problems in the **Services & Links** interface, ensuring tabular data displays correctly

## Technical Updates

- Updated Spring Framework to the latest stable release, providing improved performance and security patches
- Updated Apache Kafka client libraries with refactored configuration for better stability
- Updated Jackson JSON processing libraries to address known serialization issues
- Updated Log4j logging framework to the latest version for security and reliability
- Updated Apache POI library for improved Excel file handling compatibility
- Updated numerous additional dependencies across the platform to their latest stable versions
- Removed the Joda Time library in favor of the standard `java.time` API, reducing dependency overhead
- Removed the Picocli library, simplifying command-line processing
- Removed the Maven Shade plugin from the build process

## Known Issues

### ClassCastException During Test Table Execution

**Description:** A ClassCastException may occur when executing certain test tables in OpenL Studio under specific conditions.

**Workaround:** If you encounter this issue, review the test table data types to ensure consistency between expected and actual result types. Simplifying complex type hierarchies in test tables may help avoid the issue.

**Status:** Under investigation for a future release.

### IllegalArgumentException with Mixed-Type SpreadsheetResult Arrays

**Description:** An IllegalArgumentException may be thrown in Rule Services when processing SpreadsheetResult objects that contain arrays with mixed data types.

**Workaround:** Ensure that arrays within SpreadsheetResult objects contain elements of a consistent type. If mixed types are required, consider wrapping them in a common parent type or using separate arrays for different types.

**Status:** Under investigation for a future release.

## Installation & Upgrade

### New Installations

For new installations, download OpenL Tablets 5.27.8 from our [downloads page](https://openl-tablets.org/downloads) and follow the [installation guide](https://openl-tablets.org/documentation/installation).

### Upgrading from Previous Versions

**From 5.27.7:**
- Standard upgrade process applies
- No breaking changes in this release
- Backup your existing installation before upgrading
- Follow the [upgrade guide](https://openl-tablets.org/documentation/upgrade)

**From 5.27.x (earlier versions):**
- Standard upgrade process applies
- Review release notes for all intermediate versions
- Backup your existing installation before upgrading

**From 5.26.x or earlier:**
- Additional migration steps may be required
- Review all release notes between your version and 5.27.8
- Consider consulting with OpenL support for enterprise installations

### System Requirements

- Java 11 or higher
- Minimum 4GB RAM (8GB recommended for production)

## Resources

- **Documentation:** [https://openl-tablets.org/documentation](https://openl-tablets.org/documentation)
- **Download:** [https://openl-tablets.org/downloads](https://openl-tablets.org/downloads)
- **Release Notes Archive:** [https://openl-tablets.org/release-notes](https://openl-tablets.org/release-notes)
- **Community Forum:** [https://openl-tablets.org/community](https://openl-tablets.org/community)
- **Support:** [https://openl-tablets.org/support](https://openl-tablets.org/support)
